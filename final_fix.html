<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VideoJS Player</title>
    <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
    <style>
        /* Pantalla completa total sin m치rgenes */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            overflow: hidden;
        }
        /* Ajuste del contenedor del reproductor */
        .video-js {
            width: 100vw !important;
            height: 100vh !important;
        }
        /* Elimina el bot칩n de play gigante si prefieres que no se vea al inicio */
        .vjs-big-play-button {
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>

    <video id="my-video" class="video-js vjs-default-skin" controls preload="auto">
        <source src="https://houses-shades-eng-leisure.trycloudflare.com/mystream/815000/index.m3u8" type="application/x-mpegURL">
    </video>

    <script src="https://vjs.zencdn.net/8.10.0/video.min.js"></script>

    <script>
        var player = videojs('my-video', {
            autoplay: false, // Recomendado false para evitar errores de navegador
            fluid: false,
            liveui: true,
            html5: {
                vhs: {
                    overrideNative: true,
                    allowSeeksWithinUnsafeLiveWindow: true
                }
            }
        });

        // Manejo de errores autom치tico
        player.on('error', function() {
            var error = player.error();
            console.log('Error detectado:', error.code, error.message);
            
            // Si hay un error de decodificaci칩n, intenta recargar a los 2 segundos
            setTimeout(function() {
                player.src({
                    src: "https://houses-shades-eng-leisure.trycloudflare.com/mystream/815000/index.m3u8",
                    type: "application/x-mpegURL"
                });
                player.load();
                player.play();
            }, 2000);
        });
    </script>
</body>
</html>
