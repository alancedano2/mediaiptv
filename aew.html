<!DOCTYPE html>
<html>
<head>
    <title>Reproductor HLS - NBA</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        body { background-color: #000; color: white; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; font-family: sans-serif; }
        video { width: 80%; max-width: 1000px; border: 2px solid #333; }
        .error { color: red; position: absolute; top: 20px; }
    </style>
</head>
<body>

    <video id="video" controls autoplay></video>
    <div id="msg" class="error"></div>

    <script>
        var video = document.getElementById('video');
        var url = "https://gg.poocloud.in/nba_charlottehornets/index.m3u8";

        if (Hls.isSupported()) {
            var hls = new Hls({
                // Intentamos configurar cabeceras (Nota: Los navegadores suelen bloquear esto por seguridad)
                xhrSetup: function (xhr, url) {
                    xhr.setRequestHeader('Referer', 'https://ppv.to/');
                }
            });
            hls.loadSource(url);
            hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED, function() {
                video.play();
            });
            hls.on(Hls.Events.ERROR, function (event, data) {
                document.getElementById('msg').innerText = "Si no carga, instala la extensi√≥n 'Allow CORS' o 'Native HLS Playback'.";
            });
        }
        // Soporte nativo (Safari en Mac/iPhone)
        else if (video.canPlayType('application/vnd.apple.mpegurl')) {
            video.src = url;
            video.addEventListener('loadedmetadata', function() {
                video.play();
            });
        }
    </script>
</body>
</html>
